<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<title>docCreateRec Page</title>
<th:block th:include="fragments/headincl :: head"></th:block>
</head>
<body>
	<div class="wrapper">
		<div class="container">
			<th:block th:include="fragments/header :: dnavbar(docPatRec, none)"></th:block>

			<div class="htmlreport">
				<div class="htmlreportheader">
					<h1>MEDICAL CENTER SPRING</h1>
					<h3>MEDICAL REPORT</h3>
					<br></br>
				</div>

				<form th:action="@{/doctor/createNewRecord}"
					th:object="${patientRecordDto}" method="POST" enctype="utf8">

					<div class="rec-l1">
						<br></br>
						<table class="tbla table table-bordered table-hover">
							<tr>
								<td><p>Location:</p></td>
								<td>"Belgrade, Republic of Serbia"</td>
							</tr>
							<tr>
								<td><p>First name:</p></td>
								<td><input type="text" th:field="*{ptnFirstName}"
									th:value="${patientRecordDto.ptnFirstName}" readonly="readonly" /></td>
							</tr>
							<tr>
								<td><p>Last name:</p></td>
								<td><input type="text" th:field="*{ptnLastName}"
									th:value="${patientRecordDto.ptnLastName}" readonly="readonly" /></td>
							</tr>
							<tr>
								<td><p>Date:</p></td>
								<td><input type="text" th:field="*{date}"
									th:value="${patientRecordDto.date}" readonly="readonly" /></td>
							</tr>
						</table>
						<br></br>
					</div>

					<div class="rec-r1">
						<br></br>
						<table class="tbla table table-bordered table-hover">
							<tr>
								<td><p>Health Security Code:</p></td>
								<td><input type="text" th:field="*{ptnHsCode}"
									th:value="${patientRecordDto.ptnHsCode}" readonly="readonly" /></td>
							</tr>

							<tr>
								<td><p>Birth Date:</p></td>
								<td><input type="text" th:field="*{ptnBirthDate}"
									th:value="${patientRecordDto.ptnBirthDate}" readonly="readonly" /></td>
							</tr>
							<tr>
								<td><p>Gender:</p></td>
								<td><input type="text" th:field="*{ptnGender}"
									th:value="${patientRecordDto.ptnGender}" readonly="readonly" /></td>
							</tr>
						</table>

						<br></br>
						<div class="form-group"
							th:classappend="${#fields.hasErrors('componentCode')} ? has-error : ''">
							<label>Record Type:</label> <select class="form-control"
								th:field="*{componentCode}">																							
								<option value="">-SELECT A TYPE-</option>
								<option value="PHEX">PHEX</option> <!-- physical examination -->
								<option value="MDPR">MDPR</option> <!-- medical prescription -->
								<option value="RTSP">RTSP</option> <!-- referral to a specialist -->
							</select> <span th:if="${#fields.hasErrors('componentCode')}"
								class="help-block" th:errors="*{componentCode}"></span>
						</div>
					</div>

					<div class="reportDetails">
						<div class="form-group"
							th:classappend="${#fields.hasErrors('recordDetails')} ? has-error : ''">
							<label>Record Details:</label>
							<textarea id="textReport" rows="20" cols="300"
								class="form-control" th:field="*{recordDetails}"> 								
							</textarea>
							<span th:if="${#fields.hasErrors('recordDetails')}"
								class="help-block" th:errors="*{recordDetails}"></span>

						</div>
					</div>

					<div class="rec-l1">
						<br></br>

						<table class="tbla table table-bordered table-hover">
							<tr>
								<td><p>Qualifications:</p></td>
								<td><input type="text" th:field="*{docQualifications}"
									th:value="${patientRecordDto.docQualifications}"
									readonly="readonly" /></td>
							</tr>
							<tr>
								<td><p>License Code:</p></td>
								<td><input type="text" th:field="*{docLicenceCode}"
									th:value="${patientRecordDto.docLicenceCode}"
									readonly="readonly" /></td>
							</tr>
						</table>
					</div>

					<div class="rec-r1">
						<br></br>
						<table class="tbla table table-bordered table-hover">

							<tr>
								<td><p>Doctor First Name:</p></td>
								<td><input type="text" th:field="*{docFirstName}"
									th:value="${patientRecordDto.docFirstName}" readonly="readonly" /></td>
							</tr>
							<tr>
								<td><p>Doctor Last Name:</p></td>
								<td><input type="text" th:field="*{docLastName}"
									th:value="${patientRecordDto.docLastName}" readonly="readonly" />
								</td>
							</tr>
						</table>

					</div>

					<div id="bottom1">
						<input type="hidden" th:name="${_csrf.parameterName}"
							th:value="${_csrf.token}" />

						<div class="form-actions">
							<button type="button" class="btn btn-primary" data-toggle="modal"
								data-target="#myModal">Save</button>

							<!-- Modal -->
							<div id="myModal" class="modal fade" role="dialog"
								aria-labelledby="myModalLabel">
								<div class="modal-dialog" role="document">

									<!-- Modal content-->
									<div class="modal-content col-md-6">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal">&times;</button>
											<h4 class="modal-title" id="myModalLabel">Do you want to
												save this Medical Report?</h4>
										</div>

										<div class="modal-footer">
											<button type="submit" class="btn btn-success">Yes</button>
											<button type="button" class="btn btn-danger"
												data-dismiss="modal">No</button>
										</div>
										
									</div>
								</div>
							</div>
						</div>
						<br></br>
					</div>
				</form>
			</div>

			<div id="bottom2">
				<h3 style="margin: 50px 0px;" class="text-warning bg-warning"
					th:text="${formMessageNoUse}">form adm</h3>
				<h3 style="margin: 50px 0px;" class="text-success bg-success"
					th:text="${formMessageScc}">form success</h3>
				<h3 style="margin: 50px 0px;" class="text-danger bg-danger"
					th:text="${formMessageErr}">form</h3>
			</div>

			<th:block th:include="fragments/footer :: footer"></th:block>
		</div>
	</div>
</body>
</html>